<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Carte - Queen</title>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

<style>
  body { margin:0; font-family: Arial, sans-serif; }
  #map { height: 100vh; width: 100vw; }
  .footer { position: absolute; bottom: 8px; left: 8px; background: rgba(255,255,255,0.85); padding: 6px 8px; border-radius: 6px; font-size: 12px; }
</style>
</head>
<body>
<div id="map"></div>
<div class="footer">Données carte © OpenStreetMap contributors</div>

<script>
  const markers = [{"lieu":"osaka-japan","lat":34.6937569,"lon":135.5014539,"popup":"\u003cb\u003eosaka japan\u003c/b\u003e\u003cbr/\u003e28-01-2020"},{"lieu":"penrose-new_zealand","lat":-36.9111443,"lon":174.8147813,"popup":"\u003cb\u003epenrose new_zealand\u003c/b\u003e\u003cbr/\u003e07-02-2020"},{"lieu":"saitama-japan","lat":35.9754168,"lon":139.4160114,"popup":"\u003cb\u003esaitama japan\u003c/b\u003e\u003cbr/\u003e26-01-2020"},{"lieu":"dunedin-new_zealand","lat":-45.8740984,"lon":170.5035755,"popup":"\u003cb\u003edunedin new_zealand\u003c/b\u003e\u003cbr/\u003e10-02-2020"},{"lieu":"georgia-usa","lat":32.3293809,"lon":-83.1137366,"popup":"\u003cb\u003egeorgia usa\u003c/b\u003e\u003cbr/\u003e22-08-2019"},{"lieu":"los_angeles-usa","lat":34.0536909,"lon":-118.242766,"popup":"\u003cb\u003elos_angeles usa\u003c/b\u003e\u003cbr/\u003e20-08-2019"},{"lieu":"nagoya-japan","lat":35.1851045,"lon":136.8998438,"popup":"\u003cb\u003enagoya japan\u003c/b\u003e\u003cbr/\u003e30-01-2019"},{"lieu":"north_carolina-usa","lat":35.6729639,"lon":-79.0392919,"popup":"\u003cb\u003enorth_carolina usa\u003c/b\u003e\u003cbr/\u003e23-08-2019"}];

  const map = L.map('map');
  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    maxZoom: 18,
    attribution: '&copy; OpenStreetMap contributors'
  }).addTo(map);

  if (markers.length === 0) {
    map.setView([48.8566, 2.3522], 5); // fallback: Paris
  } else {
    const bounds = [];
    markers.forEach(m => {
      const mk = L.marker([m.lat, m.lon]).addTo(map);
      mk.bindPopup(m.popup);
      bounds.push([m.lat, m.lon]);
    });
    map.fitBounds(bounds, { padding: [30, 30] });
  }
</script>
</body>
</html>